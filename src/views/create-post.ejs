<!doctype html>
<html lang="en">
<head>
  <%- include('partials/header') %>
  <link rel="stylesheet" href="/css/inscrybmde.min.css">
</head>
<body class="dark">
  <%- include('partials/navbar') %>
  
  <div class="container py-md-5 footer-padding">
    <form action="/createPost" method="POST">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">

      <div class="form-group">
        <label for="title" class="text-white mb-2">Title</label>
        <input required name="title" id="title" class="form-control form-control-lg form-control-title" type="text" autocomplete="off" placeholder="Your post title...">
      </div>

      <div class="form-group mb-4">
        <label for="body" class="text-white mb-2">Post Content</label>
        <textarea required name="body" id="body" class="body-content tall-textarea form-control" type="text"></textarea>
      </div>

      <div class="form-group mb-4">
        <label for="visibility" class="text-white mb-2">Visibility</label>
        
        <div class="custom-radio-group">
          <label class="custom-radio">
            <input type="radio" name="visibility" value="public" checked />
            <span>Publicly Visible</span>
          </label>
          <label class="custom-radio">
            <input type="radio" name="visibility" value="followers" />
            <span>Visible To Followers Only</span>
          </label>
          <label class="custom-radio">
            <input type="radio" name="visibility" value="private" />
            <span>Visible To You</span>
          </label>
        </div>
      </div>
      
      <button class="btn btn-primary">Save New Post</button>
    </form>
  </div>
  
  <%- include('partials/footer') %>
  <script src="/js/inscrybmde.min.js"></script>
  <script>
    const inscrybmde = new InscrybMDE({
      element: document.getElementById("body"),
      forceSync: true,
      placeholder: "Your post content...",
      autofocus: true,
      promptURLs: true,
      // status: ["autosave", "lines", "words", "cursor", {
      //   className: "keystrokes",
      //   defaultValue: function(el) {
      //     this.keystrokes = 0;
      //     el.innerHTML = "0 Keystrokes";
      //   },
      //   onUpdate: function(el) {
      //     el.innerHTML = ++this.keystrokes + " Keystrokes";
      //   }
      // }],
      toolbar: [{
        name: "bold",
        action: InscrybMDE.toggleBold,
        className: "material-icons",
        title: "Bold",
        iconText: 'format_bold'
      },{
        name: "italic",
        action: InscrybMDE.toggleItalic,
        className: "material-icons",
        title: "Italic",
        iconText: 'format_italic'
      },{
        name: "strikethrough",
        action: InscrybMDE.toggleStrikethrough,
        className: "material-icons",
        title: "Strikethrough",
        iconText: 'format_strikethrough'
      },{
        name: "heading",
        action: InscrybMDE.toggleHeadingSmaller,
        className: "material-icons",
        title: "Heading",
        iconText: 'format_size'
      },
      "|",
      {
        name: "quote",
        action: InscrybMDE.toggleBlockquote,
        className: "material-icons",
        title: "Quote",
        iconText: 'format_quote'
      },{
        name: "bulletList",
        action: InscrybMDE.toggleUnorderedList,
        className: "material-icons",
        title: "Bullet List",
        iconText: 'format_list_bulleted'
      },{
        name: "numberedList",
        action: InscrybMDE.toggleOrderedList,
        className: "material-icons",
        title: "Numbered List",
        iconText: 'format_list_numbered'
      },
      "|",
      {
        name: "link",
        action: InscrybMDE.drawLink,
        className: "material-icons",
        title: "Create Link",
        iconText: 'insert_link'
      },{
        name: "image",
        action: InscrybMDE.drawImage,
        className: "material-icons",
        title: "Insert Image",
        iconText: 'image'
      },{
        name: "table",
        action: InscrybMDE.drawTable,
        className: "material-icons",
        title: "Insert Table",
        iconText: 'view_module'
      },{
        name: "horizontalRule",
        action: InscrybMDE.drawHorizontalRule,
        className: "material-icons",
        title: "Add Horizontal Rule",
        iconText: 'remove'
      },{
        name: "code",
        action: InscrybMDE.toggleCodeBlock,
        className: "material-icons",
        title: "Insert Code",
        iconText: 'code'
      },
      "|",
      {
        name: "undo",
        action: InscrybMDE.undo,
        className: "material-icons",
        title: "Undo",
        iconText: 'undo'
      },{
        name: "redo",
        action: InscrybMDE.redo,
        className: "material-icons",
        title: "Redo",
        iconText: 'redo'
      },
      "|",
      {
        name: "togglePreview",
        action: InscrybMDE.togglePreview,
        className: "material-icons",
        title: "Toggle Preview",
        iconText: 'remove_red_eye'
      },{
        name: "fullScreen",
        action: InscrybMDE.toggleFullScreen,
        className: "material-icons",
        title: "Full Screen",
        iconText: 'fullscreen'
      },
      "|",
      {
        name: "shortcuts",
        action: function customFunction(editor){
          // Add your own code
        },
        className: "material-icons",
        title: "Shortcuts",
        iconText: 'help'
      },{
        name: "markdownGuide",
        action: function customFunction(editor){
          // Add your own code
        },
        className: "material-icons",
        title: "Markdown Guide",
        iconText: 'assignment'
      }],
    });
  </script>

</body>
</html>